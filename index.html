<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>

    <script src="script.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <style>
        p {
            border: solid #a07b29;
            text-align: center;
        }

    </style>

    <title>D3-hw-02</title>

</head>

<body>

    <!-- HEADER -->
    <div>
        <header>

            <h1>D3-hw-02</h1>
            <h2>D3第二次作業-12/03</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div>



        <script>
            d3.select("body")
                .append("p")
                .text("這裡產生亂數");

            // 製作按鈕，讓亂數在p上面顯示//
            function launch() {
                var num = random(1911, 2016);
                console.log(num);
                d3.select("p").text(num);
            };

            // 讓按鈕產生隨機數字 //
            function random(N, M) {
                return Math.ceil(Math.random() * (M - N) + N);
            };

            // 讓按鈕計算平方 //
            function square() {
                var nums =
                    d3.select('.number')
                    .property("value"); // 取值的函數//

                d3.select('.number')
                    .property("value", nums * nums); // 取值的函數計算後丟回去//
            };

        </script>

        <!-- 製作輸入欄輸入數字算平方 -->
        <input type="text" class="number">

        <!-- 製作按鈕啟動平方功能用 -->
        <input type="button" onclick="square()" value="平方">


        <!-- 製作按鈕啟動亂數產生 -->
        <input type="button" onclick="launch()" value="啟動亂數">


    </div>

    <div>
        <!-- 畫音符線條跟A -->
        <svg id="svg1" width="300" height="200">

            <rect x="160" y="45" width="5" height="78"></rect>

            <ellipse cx="145" cy="120" rx="20" ry="15"></ellipse>

            <line x1="0" y1="45" x2="300" y2="45" stroke="black" stroke- width="2"></line>

            <line x1="0" y1="76" x2="300" y2="76" stroke="black" stroke- width="2"></line>

            <line x1="0" y1="107" x2="300" y2="107" stroke="black" stroke- width="2"></line>

            <line x1="0" y1="138" x2="300" y2="138" stroke="black" stroke- width="2"></line>

            <line x1="0" y1="169" x2="300" y2="169" stroke="black" stroke- width="2"></line>

            <line x1="0" y1="200" x2="300" y2="200" stroke="black" stroke- width="2"></line>

            <text x="130" y="200" font-size="30">A</text>

        </svg>
    </div>

    <div>

        <!-- 用迴圈(for)做出長條圖，加上隨機數值變換長度，加上數字 -->
        <svg id="svg2" width="500" height="400">

        </svg>

        <script>
            // 產生亂數 //    
            function random(N, M) {
                return Math.ceil(Math.random() * (M - N) + N);
            };

            // 畫長條圖 //
            for (var i = 0; i < 20; i++) {
                var tmp = random(20, 300);

                d3.select("#svg2")
                    .append("rect")
                    .attr({
                        x: 10,
                        y: 10 + 12 * i,
                        width: tmp,
                        height: 10,
                        fill: "red"
                    });

                d3.select("#svg2")
                    .append("text")
                    .attr({

                        x: tmp + 15,
                        y: 20 + 12 * i,
                        fill: "black",
                        "font-size": 12
                    })
                    .text(tmp);
            };

        </script>


    </div>

</body>

</html>
